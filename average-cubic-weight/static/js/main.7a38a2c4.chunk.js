(this["webpackJsonpkogan-challenge"]=this["webpackJsonpkogan-challenge"]||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),i=n.n(c),s=(n(16),n(17),n(1)),o=n(2),u=n(3),l=n(4),h=n(8),p=n.n(h),g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return a.a.createElement("img",{src:p.a,alt:"Loading"})}}]),n}(a.a.PureComponent),f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return a.a.createElement("p",null,"Average Cubic Weight: ",this.props.result)}}]),n}(a.a.Component),d=n(10),b=n(5),v=n.n(b),m=n(9),j=function(){function e(t){Object(s.a)(this,e),this.products=t.objects?t.objects:[],this.next=t.next?t.next:""}return Object(o.a)(e,[{key:"getProductsByCategory",value:function(e){return this.products.filter((function(t){return t.category===e}))}}]),e}(),k=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,[{key:"beginProcessing",value:function(){var e=Object(m.a)(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.filteredProducts=[],this.isFinished=!1,this.nextRequest=n;case 3:if(this.isFinished){e.next=10;break}return e.next=6,this.processNext(t,this.nextRequest);case 6:(r=e.sent)&&""!==r?this.nextRequest=r:this.isFinished=!0,e.next=3;break;case 10:return e.abrupt("return",this.calculateAverageCubicWeight());case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"processNext",value:function(e,t){var n=this;return fetch(e+t).then((function(e){return e.json()})).then((function(e){var t,r=new j(e),a=r.getProductsByCategory("Air Conditioners");return(t=n.filteredProducts).push.apply(t,Object(d.a)(a)),r.next}))}},{key:"calculateAverageCubicWeight",value:function(){var e=this,t=this.filteredProducts.map((function(t){return e.calculateCubicWeightForProduct(t)}));return t.reduce((function(e,t){return e+t}),0)/t.length}},{key:"calculateCubicWeightForProduct",value:function(e){return 250*(e.size.length/100*(e.size.height/100)*(e.size.width/100))}}]),e}(),y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={loading:!1,result:null},r}return Object(o.a)(n,[{key:"startProcessing",value:function(){var e=this;this.setState({loading:!0}),this.processor=new k,this.processor.beginProcessing(this.props.baseUrl,this.props.startUrl).then((function(t){e.completeProcessing(t)})).catch((function(e){console.error(e)}))}},{key:"completeProcessing",value:function(e){this.setState({loading:!1,result:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.result;return null!==r||n?n?a.a.createElement(g,null):null!==r?a.a.createElement(f,{result:this.state.result}):void 0:a.a.createElement("button",{className:"processButton",onClick:function(){return e.startProcessing()}},"Process")}}]),n}(a.a.Component);var w=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",null,"Challenge - Average Cubic Weight"),a.a.createElement("p",null,"Please click the Process button below to begin calculating the product average cubic weight"),a.a.createElement(y,{baseUrl:"http://wp8m3he1wt.s3-website-ap-southeast-2.amazonaws.com",startUrl:"/api/products/1"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n.p+"static/media/loading.73fad851.svg"}},[[11,1,2]]]);
//# sourceMappingURL=main.7a38a2c4.chunk.js.map